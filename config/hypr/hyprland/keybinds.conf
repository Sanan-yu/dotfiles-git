###################
### KEYBINDINGS ###
###################

$terminal = kitty
# $terminal = alacritty
$fileManager = thunar
$menu = rofi -show drun
$browser = firefox
$resetSubMap = hyprctl dispatch submap reset 

$mainMod = SUPER

bind = $mainMod, R, submap, launch
bind = $mainMod, W, submap, window
bind = $mainMod, T, submap, tools
bind = $mainMod, M, submap, multimedia
bind = $mainMod, E, submap, screenshot
bind = $mainMod, X, submap, system 
bind = $mainMod, V, submap, passthru
bind = $mainMod, B, submap, bar

bind = $mainMod,  RETURN, exec,        $terminal

submap = tools 
bind = ,  V,      exec,        cliphist list | wofi --dmenu | cliphist decode | wl-copy & $resetSubMap
bind = ,  D,      exec,        hyprpicker | wl-copy & $resetSubMap
bind = ,  A,      exec,        change_wallpaper & $resetSubMap
bind = ,  R,      exec,        random_wallpaper & $resetSubMap
bind = ,  W,      exec,        killall -SIGUSR1 waybar & $resetSubMap
bind = ,  M,      exec,        killall -SIGUSR2 waybar & $resetSubMap
bind = ,  E,      exec,        resources & $resetSubMap
bind = ,  G,      exec,        ~/bin/gamemode & $resetSubMap
bind = ,  K,      exec,        ~/bin/toggle-kb & $resetSubMap
bind = ,escape, submap, reset
submap = reset

submap = bar
bind = ,  D,      exec,        hyprpanel toggleWindow dashboardmenu & $resetSubMap
bind = ,  A,      exec,        hyprpanel toggleWindow audiomenu & $resetSubMap
bind = ,  M,      exec,        hyprpanel toggleWindow mediamenu & $resetSubMap
bind = ,  N,      exec,        hyprpanel toggleWindow networkmenu & $resetSubMap
bind = ,  B,      exec,        hyprpanel toggleWindow bluetoothmenu & $resetSubMap
bind = ,  T,      exec,        hyprpanel toggleWindow notificationsmenu & $resetSubMap
bind = ,  C,      exec,        hyprpanel toggleWindow calendarmenu & $resetSubMap
bind = ,  P,      exec,        hyprpanel toggleWindow powerdropdownmenu & $resetSubMap
bind = ,  S,      exec,        hyprpanel toggleWindow settings-dialog & $resetSubMap
bind = ,escape, submap, reset
submap = reset

submap = launch
bind = ,  B,      exec,        $browser & $resetSubMap
bind =    SHIFT,  B,           exec, $browser --private-window & $resetSubMap
bind = ,  G,      exec,        chromium & $resetSubMap
bind = ,  R,      exec,        $menu & $resetSubMap
bind = ,  F,      exec,        $fileManager & $resetSubMap
bind = ,  O,      exec,        /home/sanan/bin/toggle-otter.sh & $resetSubMap
bind = ,  E,      exec,        rofi -show emoji & $resetSubMap
bind = ,  T,      exec,        $HOME/Desktop/Prism/PrismLauncher & $resetSubMap
bind = ,  C,      exec,        toggle-recording & $resetSubMap
bind = ,  D,      exec,        discord & $resetSubMap
bind = ,  N,      exec,        nmgui & $resetSubMap
bind = ,escape, submap, reset
submap = reset

submap = window
bind = ,  N, exec, hyprctl dispatch  focusurgentorlast & $resetSubMap
bind =    SHIFT,  C,           exec, hyprctl kill & $resetSubMap
bind =    SHIFT,  Q,      exit, & $resetSubMap
bind = ,  F,    exec, hyprctl dispatch togglefloating & $resetSubMap
bind =    SHIFT,  F,   exec, hyprctl dispatch  fullscreen & $resetSubMap
bind = ,  P,      pseudo,       & $resetSubMap
bind = ,  J,      togglesplit,  & $resetSubMap
bind = ,escape, submap, reset
submap = reset

submap = multimedia
bindl  = ,A, exec, playerctl play-pause
bindl  = ,P, exec, playerctl previous
bindl  = ,N, exec, playerctl next
bindel = ,right, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 3%+
bindel = ,left, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%-
bindel = ,M, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,S, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,up, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,down, exec, brightnessctl -e4 -n2 set 5%-
bind = ,escape, submap, reset
submap = reset

submap = screenshot
bind = ,S,         exec, hyprshot -m region & $resetSubMap
bind = $shiftMod, S,  exec, hyprshot -m window & $resetSubMap
bind = $mainMod,  S,  exec, hyprshot -m output & $resetSubMap 
bind = ,escape, submap, reset
submap = reset


submap = system
bind = , W, exec, wlogout & $resetSubMap
bind = , L, exec, hyprlock & $resetSubMap
bind = , S, exec, suspend & $resetSubMap
bind = , H, exec, hibernate & $resetSubMap
bind = , R, exec, reboot & $resetSubMap
bind = , P, exec, poweroff & $resetSubMap
bind = , escape, submap, reset
submap = reset

submap = passthru
bind = SUPER,Escape,submap,reset
submap = reset

bind = ,          PRINT,  exec,        hyprshot -m region
bind = $shiftMod, PRINT,  exec,        hyprshot -m window
bind = $mainMod,  PRINT,  exec,        hyprshot -m output

bind = $mainMod,  C,      killactive,

# To switch between windows in a floating workspace:
bind = SUPER, Tab, cyclenext         # Change focus to another window
bind = SUPER, Tab, bringactivetotop  # Bring it to the top

# Move focus with mainMod + arrow keys
bind = $mainMod, left,  movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up,    movefocus, u
bind = $mainMod, down,  movefocus, d

# Moving windows both in float and tiling modes
binde = $mainMod SHIFT, left,  exec, hyprctl --batch "dispatch swapwindow l; dispatch moveactive -60 0"
binde = $mainMod SHIFT, right, exec, hyprctl --batch "dispatch swapwindow r; dispatch moveactive  60 0"
binde = $mainMod SHIFT, up,    exec, hyprctl --batch "dispatch swapwindow u; dispatch moveactive  0 -60"
binde = $mainMod SHIFT, down,  exec, hyprctl --batch "dispatch swapwindow d; dispatch moveactive  0  60"

# Window resizing                           X  Y
binde = $mainMod CTRL, left,  resizeactive, -60 0
binde = $mainMod CTRL, right, resizeactive,  60 0
binde = $mainMod CTRL, up,    resizeactive,  0 -60
binde = $mainMod CTRL, down,  resizeactive,  0  60

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10
bind = $mainMod ALT, 1, movetoworkspacesilent, 1
bind = $mainMod ALT, 2, movetoworkspacesilent, 2
bind = $mainMod ALT, 3, movetoworkspacesilent, 3
bind = $mainMod ALT, 4, movetoworkspacesilent, 4
bind = $mainMod ALT, 5, movetoworkspacesilent, 5
bind = $mainMod ALT, 6, movetoworkspacesilent, 6
bind = $mainMod ALT, 7, movetoworkspacesilent, 7
bind = $mainMod ALT, 8, movetoworkspacesilent, 8
bind = $mainMod ALT, 9, movetoworkspacesilent, 9
bind = $mainMod ALT, 0, movetoworkspacesilent, 10

# Example special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

# Requires playerctl
bindl = , XF86AudioNext,  exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay,  exec, playerctl play-pause
bindl = , XF86AudioPrev,  exec, playerctl previous

# Some binds
bindl = , XF86ScreenSaver, exec, hyprlock
bindl = , XF86Display,  exec, gtk-launch mpv 
bindl = , XF86Calculator, exec, gnome-calculator
